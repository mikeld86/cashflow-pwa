/* Global styles for Cashflow Calculator */

/* Light theme by default; dark overrides variables below */
:root {
  --bg: #ffffff;
  --bg2: #f9f9f9;
  --text: #111111;
  --muted: #666666;
  --negative: #E74C3C;
  --section-border: rgba(0, 0, 0, 0.1);
  /* Height used for rows, inputs and icon buttons to keep vertical sizing consistent */
  --row-height: 32px;
}

[data-theme="dark"] {
  --bg: #0e1111;
  --bg2: #1a1e1f;
  --text: #f1f5f9;
  --muted: #9aa4b2;
  --section-border: rgba(255, 255, 255, 0.1);
}

/* Accent colours mapped via data-accent on the html element */
/* Colour palette accents. Each key corresponds to an accent name defined in ACCENTS in app.js. */
[data-accent="black"]    { --accent: #000314; }
[data-accent="lavender"] { --accent: #EBEEFF; }
[data-accent="pink"]     { --accent: #EF476F; }
[data-accent="blue"]     { --accent: #1447E1; }
[data-accent="purple"]   { --accent: #9349C1; }
[data-accent="lime"]     { --accent: #F2FF49; }

body {
  margin: 0;
  padding: 0;
  background: var(--bg);
  color: var(--text);
  font-family: 'Space Mono', monospace;
  line-height: 1.4;
}

/* Layout container */
.container {
  max-width: 900px;
  margin: 0 auto;
  padding: 16px;
}

h1, h2, h3 {
  margin: 0.4em 0;
  font-weight: 700;
  line-height: 1.2;
}
h1 { font-size: 1.8rem; }
h2 { font-size: 1.4rem; }
h3 { font-size: 1.1rem; }

/* Status badges for save/auth */
.badge {
  display: inline-flex;
  align-items: center;
  padding: 2px 10px;
  border-radius: 999px;
  /* Thin border for badges to match pill buttons */
  border: 1px solid var(--accent);
  color: var(--accent);
  font-size: 0.8rem;
  user-select: none;
}

/* Header and navigation */
header {
  position: sticky;
  top: 0;
  z-index: 50;
  background: var(--bg);
  border-bottom: 1px solid var(--section-border);
  backdrop-filter: saturate(180%) blur(5px);
}
.status-row {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin-top: 6px;
}
.nav-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 8px;
}
.nav-left, .nav-right {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

/* Navigation buttons */
.nav-btn {
  padding: 4px 14px;
  border-radius: 999px;
  /* Thin outline on nav pills */
  border: 1px solid var(--accent);
  color: var(--accent);
  font-size: 0.9rem;
  text-decoration: none;
  background: transparent;
  cursor: pointer;
  transition: background 0.15s ease;
}
.nav-btn:hover {
  background: color-mix(in srgb, var(--accent) 10%, transparent);
}
.nav-btn.active, .nav-btn[aria-current="page"] {
  background: var(--accent);
  color: #ffffff;
}

/* Icon buttons: round and minimal */
/* Icon buttons for add/remove/clear actions. Use a smaller size and
   thinner border so they don't visually overpower other inputs. */
.icon-btn {
  width: var(--row-height);
  height: var(--row-height);
  border-radius: 50%;
  border: 1px solid var(--accent);
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  color: var(--accent);
  font-size: 1rem;
  cursor: pointer;
  line-height: 1;
  transition: background 0.15s ease;
}
.icon-btn:hover {
  background: color-mix(in srgb, var(--accent) 10%, transparent);
}

/* Text button used for section clears */
.text-btn {
  border: none;
  background: none;
  color: var(--accent);
  font-size: 0.85rem;
  cursor: pointer;
  padding: 0 6px;
  font-family: 'Space Mono', monospace;
}

/* Accent swatches for colour selection */
.accent-select {
  display: flex;
  align-items: center;
  gap: 4px;
}
.swatch {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  border: 2px solid var(--muted);
  background: var(--swatch-colour);
  cursor: pointer;
  position: relative;
}
.swatch.selected {
  outline: 3px solid var(--accent);
  outline-offset: 1px;
}

/* Section styling */
.section {
  margin-top: 20px;
  padding: 16px;
  border: 1px solid var(--section-border);
  border-radius: 12px;
  background: var(--bg2);
}
.section header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
  /* Blend header background with the rest of the section */
  background: none;
}
.section header h3 {
  margin: 0;
  padding: 0;
  background: none;
}
.controls {
  display: flex;
  gap: 8px;
  align-items: center;
}

/* Rows for forms and subtotals */
.row {
  display: grid;
  /* A flexible description column, a fixed amount column and a small icon column */
  grid-template-columns: 1fr 90px 28px;
  align-items: center;
  gap: 8px;
  min-height: var(--row-height);
  padding: 4px 0;
}
.row.subtotals {
  margin-top: 8px;
  border-top: 1px dashed var(--section-border);
  padding-top: 8px;
}
.label {
  color: var(--muted);
  font-size: 0.9rem;
}
.value {
  text-align: right;
  font-size: 0.9rem;
}
.negative {
  color: var(--negative);
}

input.desc, input.amount, input.qty {
  width: 100%;
  height: var(--row-height);
  /* Pill shaped inputs with slimmer outlines */
  border-radius: var(--row-height);
  border: 1px solid var(--accent);
  background: transparent;
  color: var(--text);
  padding: 0 12px;
  font-family: 'Space Mono', monospace;
  font-size: 0.9rem;
}
input.amount, input.qty {
  text-align: right;
}

/* Badge inline used in cash flow section */
/* Inline badges used in cash flow subtotals */
.badge-inline {
  display: inline-flex;
  align-items: center;
  padding: 2px 8px;
  border-radius: 999px;
  border: 1px solid var(--accent);
  color: var(--accent);
  font-size: 0.8rem;
}

/* Summary grid */
.summary-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
  margin-top: 12px;
}
.summary-col {
  flex: 1 1 240px;
  min-width: 200px;
  border: 1px solid var(--section-border);
  border-radius: 12px;
  background: var(--bg2);
  padding: 12px;
}
.summary-col h3 {
  margin: 0 0 8px;
  font-size: 1.1rem;
}
.summary-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 4px 0;
  font-size: 0.9rem;
}
.summary-row.total {
  margin-top: 6px;
  font-weight: 700;
  border-top: 1px solid var(--section-border);
  padding-top: 6px;
}

/* Utility classes */
.mt { margin-top: 16px; }

/* Responsive adjustments */
@media (max-width: 600px) {
  .nav-btn { font-size: 0.8rem; padding: 4px 10px; }
  .icon-btn { width: 28px; height: 28px; font-size: 0.9rem; }
  input.desc, input.amount, input.qty { height: 28px; font-size: 0.8rem; }
  .summary-col { flex-basis: 100%; }
}